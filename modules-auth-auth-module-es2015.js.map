{"version":3,"sources":["./src/app/modules/auth/login/login.component.html","./src/app/modules/auth/auth-routing.module.ts","./src/app/modules/auth/auth.module.ts","./src/app/modules/auth/login/login.component.scss","./src/app/modules/auth/login/login.component.ts"],"names":[],"mappings":"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","file":"modules-auth-auth-module-es2015.js","sourcesContent":["export default \"<div class=\\\"main-container flex-center-center animation-bg\\\">\\r\\n    <form\\r\\n    class=\\\"login-form col-spc-btwn-cntr\\\"\\r\\n    [formGroup]=\\\"loginForm\\\"\\r\\n  >\\r\\n    <div class=\\\"flex-center-center title-container\\\">\\r\\n      <h3>\\r\\n        Login\\r\\n      </h3>\\r\\n    </div>\\r\\n    <mat-form-field  class=\\\"form-field\\\">\\r\\n      <input\\r\\n        autocomplete=\\\"off\\\"\\r\\n        matInput\\r\\n        (keydown.enter)=\\\"onLogin()\\\"\\r\\n        type=\\\"email\\\"\\r\\n        placeholder=\\\"email\\\"\\r\\n        formControlName=\\\"email\\\">\\r\\n        <mat-error *ngIf=\\\"!getEmailErrors('required') && getEmailErrors('email')\\\">\\r\\n          Please enter a valid email address\\r\\n        </mat-error>\\r\\n        <mat-error *ngIf=\\\"getEmailErrors('required')\\\">\\r\\n          Email is <strong>required</strong>\\r\\n        </mat-error>\\r\\n    </mat-form-field>\\r\\n    <mat-form-field  class=\\\"form-field\\\" >\\r\\n      <input\\r\\n        matInput\\r\\n        (keydown.enter)=\\\"onLogin()\\\"\\r\\n        placeholder=\\\"password\\\"\\r\\n        formControlName=\\\"password\\\"\\r\\n        [type]=\\\"hidePswrd ? 'password' : 'text'\\\"\\r\\n      >\\r\\n      <mat-icon\\r\\n        class=\\\"pswrd-icon\\\"\\r\\n        mat-icon-button\\r\\n        matSuffix\\r\\n        [attr.aria-label]=\\\"'Hide password'\\\"\\r\\n        [attr.aria-pressed]=\\\"hidePswrd\\\"\\r\\n        (click)=\\\"hidePswrd = !hidePswrd\\\"\\r\\n      >\\r\\n        {{hidePswrd ? 'visibility_off' : 'visibility'}}\\r\\n      </mat-icon>\\r\\n      <mat-error *ngIf=\\\"!loginForm.hasError('required')\\\">\\r\\n        Password is required\\r\\n      </mat-error>\\r\\n    </mat-form-field>\\r\\n    <button\\r\\n      mat-raised-button\\r\\n      color=\\\"accent\\\"\\r\\n      (click)=\\\"onLogin()\\\"\\r\\n      [disabled]=\\\"loginForm.invalid\\\">\\r\\n      login\\r\\n    </button>\\r\\n  </form>\\r\\n\\r\\n</div>\\r\\n\"","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\n  // Modules\r\nimport { Constants } from '..';\r\n\r\n  //  Components\r\nimport { LoginComponent } from './login/login.component';\r\n\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: Constants.ROUTERS.EMPTY,\r\n    component: LoginComponent,\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AuthRoutingModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\n  //  Modules\r\nimport { AuthRoutingModule } from './auth-routing.module';\r\nimport { MaterialModule } from '..';\r\n\r\n  //  Components\r\nimport { LoginComponent } from './login/login.component';\r\n\r\n\r\n@NgModule({\r\n  declarations: [LoginComponent],\r\n  imports: [\r\n    CommonModule,\r\n    AuthRoutingModule,\r\n    MaterialModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n  ],\r\n})\r\nexport class AuthModule { }\r\n","export default \".login-form {\\n  width: 300px;\\n  padding: 5px;\\n}\\n\\n.form-field {\\n  width: 100%;\\n}\\n\\n.pswrd-icon {\\n  cursor: pointer;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9hdXRoL2xvZ2luL0M6XFxJdC1pbmR1c3RyaWVzXFx3b3JrXFxpc3JhZWwtdGVzdFxcdGVzdC10b2RvLWxpc3Qvc3JjXFxhcHBcXG1vZHVsZXNcXGF1dGhcXGxvZ2luXFxsb2dpbi5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9hdXRoL2xvZ2luL2xvZ2luLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsWUFBQTtFQUNBLFlBQUE7QUNDRjs7QURFQTtFQUNFLFdBQUE7QUNDRjs7QURFQTtFQUNFLGVBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvYXV0aC9sb2dpbi9sb2dpbi5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5sb2dpbi1mb3JtIHtcclxuICB3aWR0aDogMzAwcHg7XHJcbiAgcGFkZGluZzogNXB4O1xyXG59XHJcblxyXG4uZm9ybS1maWVsZCB7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbn1cclxuXHJcbi5wc3dyZC1pY29uIHtcclxuICBjdXJzb3I6IHBvaW50ZXI7XHJcbn1cclxuIiwiLmxvZ2luLWZvcm0ge1xuICB3aWR0aDogMzAwcHg7XG4gIHBhZGRpbmc6IDVweDtcbn1cblxuLmZvcm0tZmllbGQge1xuICB3aWR0aDogMTAwJTtcbn1cblxuLnBzd3JkLWljb24ge1xuICBjdXJzb3I6IHBvaW50ZXI7XG59Il19 */\"","import { Component, OnDestroy } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { Subscription } from 'rxjs';\r\n\r\nimport { StorageService, AuthService } from 'src/app/services';\r\nimport { User } from 'src/app/shared/interfaces';\r\nimport { Router } from '@angular/router';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { Constants } from '../..';\r\n\r\n@Component({\r\n  selector: 'tdl-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.scss']\r\n})\r\nexport class LoginComponent implements OnDestroy  {\r\n  private readonly durationInSeconds: number = 5;\r\n\r\n  public loginForm!: FormGroup;\r\n  public hidePswrd: boolean;\r\n\r\n  private subs: Subscription = new Subscription();\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private storageService: StorageService,\r\n    private authService: AuthService,\r\n    private router: Router,\r\n    private snackBar: MatSnackBar,\r\n  ) {\r\n    this.hidePswrd = true;\r\n\r\n    this.initForm();\r\n  }\r\n\r\n  public  ngOnDestroy() {\r\n    this.subs.unsubscribe();\r\n  }\r\n\r\n  public onLogin(): void {\r\n    const subId: Subscription = this.authService\r\n      .login(\r\n        this.loginForm.getRawValue().email,\r\n        this.loginForm.getRawValue().password\r\n        )\r\n      .subscribe(\r\n        (user: User) => {\r\n          this.storageService.setUser(user);\r\n          this.router.navigate([Constants.ROUTERS.EMPTY]);\r\n        },\r\n        (error: Record<string, string>) => {\r\n          this.showError(error.msg);\r\n          this.loginForm.reset();\r\n        },\r\n      );\r\n\r\n      this.subs.add(subId);\r\n  }\r\n\r\n  public getEmailErrors(type: string): boolean {\r\n    if (!this.loginForm.get('email').errors) {\r\n      return false;\r\n    }\r\n    return this.loginForm.get('email').errors.hasOwnProperty(type);\r\n  }\r\n\r\n  private initForm(): void {\r\n    this.loginForm = this.formBuilder.group({\r\n      email: ['', [Validators.required, Validators.email]],\r\n      password: ['', [Validators.required]],\r\n    });\r\n  }\r\n\r\n  private showError(msg: string): void {\r\n    this.snackBar.open(msg, 'Error !', {\r\n      duration: 3000,\r\n    })\r\n  }\r\n\r\n}\r\n"],"sourceRoot":"webpack:///"}